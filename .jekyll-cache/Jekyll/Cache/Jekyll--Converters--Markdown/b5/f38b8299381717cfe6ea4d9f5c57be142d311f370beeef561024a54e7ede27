I"•.<h1 id="typescript--type-alias-ä¸-interface">TypeScript:  type alias ä¸ interface</h1>

<p>å®˜æ–¹æ–‡æ¡£ä¸­æœ‰å…³äºä¸¤è€…å¯¹æ¯”çš„ä¿¡æ¯ï¼Œéšè—åœ¨ TypeScript Handbook ä¸­ï¼Œè§ <a href="https://www.typescriptlang.org/docs/handbook/advanced-types.html"><code class="language-plaintext highlighter-rouge">Interfaces vs. Type Aliases</code></a> éƒ¨åˆ†ã€‚</p>

<p>ä½†å› ä¸ºè¿™ä¸€éƒ¨åˆ†å¾ˆä¹…æ²¡æ›´æ–°äº†ï¼Œæ‰€ä»¥å…¶ä¸­æè¿°çš„å†…å®¹ä¸ä¸€å®šå…¨å¯¹ã€‚</p>

<p>æ¯”å¦‚ï¼Œ</p>

<h3 id="åŒºåˆ«ç‚¹ä¹‹ä¸€type-alias-ä¸ä¼šåˆ›å»ºæ–°çš„ç±»å‹ä½“ç°åœ¨é”™è¯¯ä¿¡æ¯ä¸Š">åŒºåˆ«ç‚¹ä¹‹ä¸€ï¼štype alias ä¸ä¼šåˆ›å»ºæ–°çš„ç±»å‹ï¼Œä½“ç°åœ¨é”™è¯¯ä¿¡æ¯ä¸Šã€‚</h3>

<blockquote>
  <p>One difference is, that interfaces create a new name that is used everywhere. Type aliases donâ€™t create a new nameâ€Šâ€”â€Šfor instance, error messages wonâ€™t use the alias name.</p>
</blockquote>

<p>ä¸å®Œå…¨æ­£ç¡®ã€‚ç›´æ¥é€šè¿‡ type å®šä¹‰çš„åˆå§‹ç±»å‹ï¼Œæ˜¯ä¼šåˆ›å»ºç›¸åº”çš„ç±»å‹åç§°çš„ã€‚</p>

<p>ä»€ä¹ˆæ„æ€å‘¢ã€‚å°±æ˜¯è¯´ï¼Œä¸æ˜¯ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">&amp;</code>, <code class="language-plaintext highlighter-rouge">|</code> ç­‰æ“ä½œç¬¦åˆ›å»ºçš„ union type åŠ intersection typeã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">type</span> <span class="nx">Person</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">name</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="nl">age</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// [x] Property 'age' is missing in type '{ name: string; }' but required in type 'Person'.ts(2741)</span>
<span class="kd">const</span> <span class="nx">bob</span><span class="p">:</span> <span class="nx">Person</span> <span class="o">=</span> <span class="p">{</span> 
  <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bob</span><span class="dl">"</span>
<span class="p">};</span>
</code></pre></div></div>

<p>æ³¨æ„è¿™é‡Œé”™è¯¯ä¿¡æ¯ä½¿ç”¨çš„æ˜¯ç±»å‹ <code class="language-plaintext highlighter-rouge">Person</code> è€Œä¸æ˜¯å¯¹åº”çš„ plain object å¯¹è±¡ã€‚</p>

<h3 id="åŒºåˆ«ç‚¹ä¹‹äºŒtype-alias-ä¸èƒ½è¢«-extends-å’Œ-implements">åŒºåˆ«ç‚¹ä¹‹äºŒï¼štype alias ä¸èƒ½è¢« <code class="language-plaintext highlighter-rouge">extends</code> å’Œ <code class="language-plaintext highlighter-rouge">implements</code>ã€‚</h3>

<p>å®é™…ä¸Šåœ¨æ‰©å±•å’Œå®ç°ä¸ŠäºŒè€…å·²ç»æ²¡æœ‰åŒºåˆ«ï¼Œç”šè‡³å¯ä»¥æ··ç”¨ï¼Œæ¯”å¦‚è®©ä¸€ä¸ª class åŒæ—¶å®ç° interface å’Œ type alias å®šä¹‰çš„ç±»å‹ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">type</span> <span class="nx">PointType</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">x</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">y</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
<span class="p">};</span>

<span class="kr">interface</span> <span class="nx">PointInterface</span> <span class="p">{</span>
  <span class="nl">a</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">b</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">Shape</span> <span class="kr">implements</span> <span class="nx">PointType</span><span class="p">,</span> <span class="nx">PointInterface</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="kr">public</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="kr">public</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="kr">public</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="kr">public</span> <span class="nx">y</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="åŒºåˆ«ç‚¹ä¹‹ä¸‰type-alias-ä¸èƒ½æ‰©å±•å’Œå®ç°å…¶ä»–ç±»å‹">åŒºåˆ«ç‚¹ä¹‹ä¸‰ï¼štype alias ä¸èƒ½æ‰©å±•å’Œå®ç°å…¶ä»–ç±»å‹</h3>

<p>ä¸å®Œå…¨æ­£ç¡®ã€‚å› ä¸ºé€šè¿‡æ­£äº¤æ“ä½œç¬¦ï¼ˆintersection typeï¼‰ <code class="language-plaintext highlighter-rouge">&amp;</code> å¯ä»¥è¾¾åˆ° <code class="language-plaintext highlighter-rouge">extends</code> çš„ç›®çš„ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">interface</span> <span class="nx">Person</span> <span class="p">{</span>
  <span class="nl">name</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">Job</span> <span class="p">{</span>
  <span class="nl">title</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">type</span> <span class="nx">EmployeeType</span> <span class="o">=</span> <span class="nx">Person</span> <span class="o">&amp;</span> <span class="nx">Job</span><span class="p">;</span>

<span class="kd">class</span> <span class="nx">Employee</span> <span class="kr">implements</span> <span class="nx">EmployeeType</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="kr">public</span> <span class="nx">name</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Nobody</span><span class="dl">"</span><span class="p">,</span> <span class="kr">public</span> <span class="nx">title</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Noone</span><span class="dl">"</span><span class="p">)</span> <span class="p">{}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œä¸¤è€…å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¸ç”¨è¿‡å¤šåŒºåˆ†ã€‚</p>

<p>åœ¨ä½¿ç”¨äº† union type çš„æ—¶å€™ï¼Œä¸€äº›åŒºåˆ«æ‰å¼€å§‹æ˜¾ç°ã€‚å…¶å®ä¹Ÿç®—ä¸å¾—åŒºåˆ«ï¼Œå› ä¸ºåªæœ‰ type alias å¯é€šè¿‡ union type å®šä¹‰ã€‚</p>

<h3 id="å½“-type-åŒ…å«-union-type-æ—¶è¯¥ç±»å‹æ˜¯ä¸èƒ½è¢«å®ç°å’Œæ‰©å±•çš„">å½“ type åŒ…å« union type æ—¶ï¼Œè¯¥ç±»å‹æ˜¯ä¸èƒ½è¢«å®ç°å’Œæ‰©å±•çš„ã€‚</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">interface</span> <span class="nx">Triangle</span> <span class="p">{</span>
  <span class="nl">area</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">Square</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">type</span> <span class="nx">ShapeType</span> <span class="o">=</span> <span class="nx">Triangle</span> <span class="o">|</span> <span class="nx">Square</span><span class="p">;</span>

<span class="c1">// [x] An interface can only extend an object type or intersection of object types with statically known members.ts(2312)</span>
<span class="kr">interface</span> <span class="nx">MyShape</span> <span class="kd">extends</span> <span class="nx">ShapeType</span><span class="p">;</span> 


<span class="kd">class</span> <span class="nx">Shape</span> <span class="kr">implements</span> <span class="nx">ShapeType</span><span class="p">{</span>
<span class="c1">// [x] A class can only implement an object type or intersection of object types with statically known members.ts(2422)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>å› ä¸º union type æè¿°çš„æ˜¯ä¸€ä¸ª<strong>æˆ–è€…</strong>çš„çŠ¶æ€ï¼Œä¸€ä¸ªç±»ä¸å¯èƒ½å³æ˜¯æ­¤ç±»å‹ä¹Ÿæ˜¯å¦å¤–ç§ç±»å‹ã€‚interface ä¹Ÿä¸å¯èƒ½ç»§æ‰¿ä¸€ä¸ªç±»å‹è¿˜ä¸ç¡®å®šçš„ç±»å‹ã€‚</p>

<h3 id="ç±»å‹åˆå¹¶">ç±»å‹åˆå¹¶</h3>

<p>æœ€æ˜æ˜¾çš„ä¸€ç‚¹åŒºåˆ«ï¼Œæ˜¯åœ¨è¿›è¡Œç±»å‹åˆå¹¶ï¼ˆ<a href="https://www.typescriptlang.org/docs/handbook/declaration-merging.html">Declaration Merging</a>ï¼‰çš„æ—¶å€™ï¼Œtype alias æ˜¯ä¸ä¼šè¢«åˆå¹¶çš„ï¼Œè€ŒåŒåçš„å¤šä¸ª interface ä¼šåˆå¹¶æˆä¸€ä¸ªã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">interface</span> <span class="nx">Person</span> <span class="p">{</span>
  <span class="nl">name</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
<span class="p">}</span>
<span class="kr">interface</span> <span class="nx">Person</span> <span class="p">{</span>
  <span class="nl">age</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">person</span><span class="p">:</span> <span class="nx">Person</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Bob</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">age</span><span class="p">:</span> <span class="mi">9</span>
<span class="p">};</span>
</code></pre></div></div>

<p>å¯¹äº type aliasï¼Œå­˜åœ¨åŒåæ—¶ç›´æ¥æŠ¥é”™ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">type</span> <span class="nx">Person</span> <span class="p">{</span>  <span class="c1">// [x] Duplicate identifier 'Person'.ts(2300)</span>
  <span class="nl">name</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">type</span> <span class="nx">Person</span> <span class="p">{</span> <span class="c1">// [x] Duplicate identifier 'Person'.ts(2300)</span>
  <span class="nl">age</span><span class="p">:</span> <span class="nx">number</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>æ˜ç™½è¿™ç‚¹å¯¹äºä¸‰æ–¹åº“çš„ä½œè€…æ¥è¯´å¾ˆé‡è¦ã€‚å‡å¦‚ä½ å†™äº†ä¸ª npm åŒ…ï¼Œå¯¼å‡ºçš„æ˜¯ typeï¼Œåˆ™ä½¿ç”¨è€…æ— æ³•é€šè¿‡ç®€å•å®šä¹‰åŒåç±»å‹æ¥è¿›è¡Œæ‰©å……ã€‚</p>

<p>æ‰€ä»¥ï¼Œå†™åº“çš„æ—¶å€™ï¼Œå°½é‡ä½¿ç”¨ interfaceã€‚</p>

<h3 id="ç»“è®º">ç»“è®º</h3>

<p>å®˜æ–¹æ¨èç”¨ interfaceï¼Œå…¶ä»–æ— æ³•æ»¡è¶³éœ€æ±‚çš„æƒ…å†µä¸‹ç”¨ type aliasã€‚</p>

<p>ä½†å…¶å®ï¼Œå› ä¸º union type å’Œ intersection type æ˜¯å¾ˆå¸¸ç”¨çš„ï¼Œæ‰€ä»¥é¿å…ä¸äº†å¤§é‡ä½¿ç”¨ type alias çš„åœºæ™¯ï¼Œä¸€äº›å¤æ‚ç±»å‹ä¹Ÿéœ€è¦é€šè¿‡ç»„è£…åå½¢æˆ type alias æ¥ä½¿ç”¨ã€‚æ‰€ä»¥ï¼Œå¦‚æœæƒ³ä¿æŒä»£ç ç»Ÿä¸€ï¼Œå¯å°½é‡é€‰æ‹©ä½¿ç”¨ type aliasã€‚é€šè¿‡ä¸Šé¢çš„å¯¹æ¯”ï¼Œtype alias å…¶å®å¯å‡½ç›– interface çš„å¤§éƒ¨åˆ†åœºæ™¯ã€‚</p>

<p>å¯¹äº React ç»„ä»¶ä¸­ props åŠ stateï¼Œä½¿ç”¨ type aliasï¼Œè¿™æ ·èƒ½å¤Ÿä¿è¯ä½¿ç”¨ç»„ä»¶çš„åœ°æ–¹ä¸èƒ½éšæ„åœ¨ä¸Šé¢æ·»åŠ å±æ€§ã€‚å¦‚æœæœ‰è‡ªå®šä¹‰éœ€æ±‚ï¼Œå¯é€šè¿‡ HOC ï¼ˆHigher-Order Componentsï¼‰äºŒæ¬¡å°è£…ã€‚</p>

<p>ç¼–å†™ä¸‰æ–¹åº“æ—¶ä½¿ç”¨ interfaceï¼Œå…¶æ›´åŠ çµæ´»è‡ªåŠ¨çš„ç±»å‹åˆå¹¶å¯åº”å¯¹æœªçŸ¥çš„å¤æ‚ä½¿ç”¨åœºæ™¯ã€‚</p>

<h3 id="ç›¸å…³èµ„æ–™">ç›¸å…³èµ„æ–™</h3>

<ul>
  <li><a href="https://medium.com/@martin_hotell/interface-vs-type-alias-in-typescript-2-7-2a8f1777af4c">Interface vs Type alias in TypeScript 2.7</a></li>
  <li><a href="https://www.typescriptlang.org/docs/handbook/advanced-types.html">TypeScript Handbook</a></li>
  <li><a href="https://kendaleiv.com/typescript-constructor-assignment-public-and-private-keywords/">TypeScript Constructor Assignment: public and private Keywords</a></li>
</ul>

:ET